(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{203:function(t,e,a){"use strict";a.r(e);var n={data:function(){return{rules:{locale:[{required:!0,message:"Required",trigger:"blur"}]},translate:{key_id:this.obj.key_id,word_count:this.obj.word_count,locale:"",translation_id:null,key_value:[]},loading:!1,autosize:{minRows:3}}},created:function(){var t=this;this.obj.key_value.forEach((function(e){t.translate.key_value.push("")}))},methods:{translateRecord:function(){var t=this;this.loading=!0,axios.post("/admin/translate/record",{model:"ContentListTranslation",relate_id:"key_id",id:this.translate.key_id,locale:this.translate.locale}).then((function(e){0!=e.data.code||200!=e.status?t.$notify({message:e.data.message,type:"error"}):e.data.data?(t.translate.translation_id=e.data.data.translation_id,t.translate.key_value=JSON.parse(e.data.data.key_value)):(t.translate.translation_id=null,t.translate.key_value=[],t.obj.key_value.forEach((function(e){t.translate.key_value.push("")}))),t.loading=!1}))},submitForm:function(){var t=this;this.$refs.form.validate((function(e){if(e){var a=!1;if(t.translate.key_value.forEach((function(t){t.trim()||(a=!0)})),a)return void t.$notify({message:"translate content required",type:"error"});t.loading=!0,axios.post("/admin/content_list/translate",t.translate).then((function(e){0!=e.data.code||200!=e.status?t.$notify({message:e.data.message,type:"error"}):(t.$notify({message:e.data.message,type:"success"}),t.$confirm("Do you want to jump to the list?","Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then((function(){window.location.href="/admin/content_list/"})).catch((function(){window.location.href=window.location.href}))),t.loading=!1}))}}))}},props:["obj","languageSelect"]},l=a(0),s=Object(l.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:20,lg:20,xl:20}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Translate")])]),t._v(" "),a("p",{staticClass:"translate_desc"},[t._v("Column name: "+t._s(t.obj.key_name))]),t._v(" "),a("p",{staticClass:"translate_desc"},[t._v("Site URL："+t._s(t.obj.website))]),t._v(" "),a("p",{staticClass:"translate_desc"},[t._v("Web Page name: "+t._s(t.obj.page_name)+"（"),a("a",{attrs:{href:"#"}},[t._v(t._s(t.obj.url))]),t._v(" ）")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.translate,rules:t.rules,size:"medium","label-position":"top",inline:!0}},[a("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"Column description :"}},t._l(t.obj.key_value,(function(e,n){return a("el-input",{key:n,staticStyle:{"margin-bottom":"10px"},attrs:{value:e,disabled:"",type:"textarea",autosize:t.autosize}})})),1),t._v(" "),a("el-form-item",{staticStyle:{width:"45%"},attrs:{prop:"locale"}},[a("template",{slot:"label"},[t._v("Translated into :\r\n                        "),a("el-select",{staticStyle:{width:"120px","margin-left":"20px"},attrs:{size:"mini"},on:{change:t.translateRecord},model:{value:t.translate.locale,callback:function(e){t.$set(t.translate,"locale",e)},expression:"translate.locale"}},t._l(t.languageSelect,(function(t,e){return a("el-option",{key:e,attrs:{label:e,value:t}})})),1)],1),t._v(" "),t._l(t.translate.key_value,(function(e,n){return a("el-input",{key:n,staticStyle:{"margin-bottom":"10px"},attrs:{type:"textarea",autosize:t.autosize},model:{value:t.translate.key_value[n],callback:function(e){t.$set(t.translate.key_value,n,e)},expression:"translate.key_value[index]"}})}))],2),t._v(" "),a("div",{staticClass:"word-count"},[t._v("WordCount: "),a("b",[t._v(t._s(this.obj.word_count))])]),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.submitForm()}}},[t._v("Submit")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=s.exports}}]);