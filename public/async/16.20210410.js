(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{210:function(t,a,e){"use strict";e.r(a);var s={data:function(){return{rules:{locale:[{required:!0,message:"Required",trigger:"blur"}]},translate:{pic_id:this.obj.pic_id,word_count:this.obj.word_count,locale:"",translation_id:null,descriptions:[]},loading:!1,autosize:{minRows:3}}},created:function(){var t=this;this.obj.descriptions.forEach((function(a){t.translate.descriptions.push("")}))},methods:{translateRecord:function(){var t=this;this.loading=!0,axios.post("/admin/translate/record",{model:"ImageListTranslation",relate_id:"pic_id",id:this.translate.pic_id,locale:this.translate.locale}).then((function(a){0!=a.data.code||200!=a.status?t.$notify({message:a.data.message,type:"error"}):a.data.data?(t.translate.translation_id=a.data.data.translation_id,t.translate.descriptions=JSON.parse(a.data.data.descriptions)):(t.translate.translation_id=null,t.translate.descriptions=[],t.obj.descriptions.forEach((function(a){t.translate.descriptions.push("")}))),t.loading=!1}))},submitForm:function(){var t=this;this.$refs.form.validate((function(a){a&&(t.loading=!0,axios.post("/admin/img_list/translate",t.translate).then((function(a){0!=a.data.code||200!=a.status?t.$notify({message:a.data.message,type:"error"}):(t.$notify({message:a.data.message,type:"success"}),t.$confirm("Do you want to jump to the list?","Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then((function(){window.location.href="/admin/img_list"})).catch((function(){window.location.href=window.location.href}))),t.loading=!1})))}))}},props:["obj","languageSelect"]},i=e(0),n=Object(i.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[e("el-row",[e("el-col",{attrs:{xs:24,sm:24,md:20,lg:20,xl:20}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("Translate")])]),t._v(" "),e("p",{staticClass:"translate_desc"},[t._v("Title: "+t._s(t.obj.title))]),t._v(" "),e("p",{staticClass:"translate_desc"},[t._v("Site："+t._s(t.obj.website))]),t._v(" "),e("p",{staticClass:"translate_desc"},[t._v("Category："+t._s(t.obj.pic_type))]),t._v(" "),e("p",{staticClass:"translate_desc"},[t._v("Url: "+t._s(t.obj.url))]),t._v(" "),e("el-image",{staticClass:"table-image",attrs:{src:t.obj.pic,"preview-src-list":[t.obj.pic]}}),t._v(" "),e("el-form",{ref:"form",attrs:{model:t.translate,rules:t.rules,size:"medium","label-position":"top",inline:!0}},[e("el-form-item",{staticStyle:{width:"45%"},attrs:{label:"Column description :"}},t._l(t.obj.descriptions,(function(a,s){return e("el-input",{key:s,staticStyle:{"margin-bottom":"10px"},attrs:{value:a,disabled:"",type:"textarea",autosize:t.autosize}})})),1),t._v(" "),e("el-form-item",{staticStyle:{width:"45%"},attrs:{prop:"locale"}},[e("template",{slot:"label"},[t._v("Translated into :\r\n                        "),e("el-select",{staticStyle:{width:"120px","margin-left":"20px"},attrs:{size:"mini"},on:{change:t.translateRecord},model:{value:t.translate.locale,callback:function(a){t.$set(t.translate,"locale",a)},expression:"translate.locale"}},t._l(t.languageSelect,(function(t,a){return e("el-option",{key:a,attrs:{label:a,value:t}})})),1)],1),t._v(" "),t._l(t.translate.descriptions,(function(a,s){return e("el-input",{key:s,staticStyle:{"margin-bottom":"10px"},attrs:{disabled:!t.translate.locale,placeholder:t.translate.locale?"":"Please Select Language",type:"textarea",autosize:t.autosize},model:{value:t.translate.descriptions[s],callback:function(a){t.$set(t.translate.descriptions,s,a)},expression:"translate.descriptions[index]"}})}))],2),t._v(" "),e("div",{staticClass:"word-count"},[t._v("WordCount: "),e("b",[t._v(t._s(this.obj.word_count))])]),t._v(" "),e("el-form-item",{staticStyle:{width:"100%"}},[e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(a){return t.submitForm()}}},[t._v("Submit")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);a.default=n.exports}}]);