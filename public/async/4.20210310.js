(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{194:function(e,t,i){"use strict";i.r(t);var l={data:function(){return{loading:!1,outerVisible:!1,dialog_title:"",articles:{},policy_uri:[]}},mounted:function(){},methods:{closeDialog:function(e){this.outerVisible=e,setTimeout((function(){window.location.href="/admin/role/list"}),1500)},showForm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.articles={},this.policy_uri=[""],"add"!=e?(this.dialog_title="Edit",this.articles=t,this.policy_uri=JSON.parse(t.policy_uri)):this.dialog_title="Add",this.outerVisible=!0},handleEdit:function(e){window.location.href="/admin/role/edit?id="+e},handleDelete:function(e,t){var i=this;this.$confirm("Delete it?","Notice",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then((function(){i.loading=!0,axios.post("/admin/role/delete",{id:t.id}).then((function(t){0!=t.data.code||200!=t.status?i.$notify({title:"Failed",message:t.data.message,type:"error"}):(i.$notify({title:"Success",message:"Deleted",type:"success"}),i.tabledata.data.splice(e,1)),i.loading=!1}))}))}},props:["tabledata"]},o=i(0),a=Object(o.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("el-card",{attrs:{shadow:"hover"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("el-button",{attrs:{icon:"el-icon-document-add",size:"mini",type:"primary"},on:{click:function(t){return e.showForm("add")}}},[e._v("Add a role")])],1),e._v(" "),i("el-table",{attrs:{data:e.tabledata.data,size:"medium"}},[i("el-table-column",{attrs:{resizable:"",prop:"id",label:"ID",width:"70"}}),e._v(" "),i("el-table-column",{attrs:{resizable:"",prop:"name",label:"Title"}}),e._v(" "),i("el-table-column",{attrs:{resizable:"",prop:"created_at",label:"Created_time"}}),e._v(" "),i("el-table-column",{attrs:{resizable:"",align:"center",label:"Operation"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.showForm("edit",t.row)}}},[e._v("Edit")]),e._v(" "),i("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("Delete")])]}}])})],1)],1),e._v(" "),e.outerVisible?i("el-dialog",{attrs:{visible:e.outerVisible,"close-on-click-modal":!1,width:"60%",title:e.dialog_title},on:{"update:visible":function(t){e.outerVisible=t}}},[i("el-row",[i("el-col",{attrs:{span:20}},[i("role-form",{attrs:{articles:e.articles,policy_uri:e.policy_uri},on:{closeDialog:e.closeDialog}})],1)],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=a.exports}}]);